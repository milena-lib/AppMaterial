<div>
    <section class="top-bar">
      <span>Nested Groups</span>
      <button type="button" label="Add Statement" (click)="_buildFormFromData()">
        build form based on data
      </button>
      <button type="button" label="Add Statement" (click)="_addGroup()">
        add group
      </button>
    </section>
  
    <pre *ngIf="!_groupsFormArray?.controls?.length">
  <strong>data:</strong> {{_data | json}}
    </pre>
  
    <form [formGroup]="_form" (ngSubmit)="submitForm()" style="border: 4px solid red">
      <ng-container formArrayName="groups">
        <ng-container
          *ngFor="let group of _groupsFormArray?.controls; index as i"
        >
          <app-group-control
            (remove)="_delete(i)"
            [formControlName]="i"
            [formLabel]="'Group ' + (i + 1) + ':'"
          >
          </app-group-control>
        </ng-container>
      </ng-container>
      <button type="submit">Submit</button>
    </form>
  </div>
  <br />
  <br />
  <pre>{{ _form.value | json }}</pre>
  